
use variant for states

declarative: separate WHY from HOW

use with RapidCheck:
  - generate (infinite) random input streams
  - check properties of output, eg. no double-spend
